{
  "$schema" : "http://json-schema.org/draft-07/schema#",
  "title" : "Step keyword package schema",
  "type" : "object",
  "$defs" : {
    "SmartDynamicValueBooleanDef" : {
      "oneOf" : [ {
        "type" : "boolean"
      }, {
        "$ref" : "#/$defs/DynamicExpressionDef"
      } ]
    },
    "SmartDynamicValueStringDef" : {
      "oneOf" : [ {
        "type" : "string"
      }, {
        "$ref" : "#/$defs/DynamicExpressionDef"
      } ]
    },
    "DynamicExpressionDef" : {
      "type" : "object",
      "properties" : {
        "expression" : {
          "type" : "string"
        }
      },
      "additionalProperties" : false
    },
    "SmartDynamicValueNumDef" : {
      "oneOf": [
        {
          "type": "number"
        },
        {
          "$ref": "#/$defs/DynamicExpressionDef"
        }
      ]
    },
    "JMeterFunctionDef" : {
      "type" : "object",
      "properties" : {
        "JMeter" : {
          "type" : "object",
          "properties" : {
            "name" : {
              "type": "string",
              "default": "JMeter"
            },
            "description" : {
              "type" : "string"
            },
            "callTimeout": {
              "$ref": "#/$defs/SmartDynamicValueNumDef"
            },
            "executeLocally": {
              "type": "boolean"
            },
            "managed": {
              "type": "boolean"
            },
            "useCustomTemplate": {
              "type": "boolean"
            },
            "schema": {
              "type": "string"
            },
            "tokenSelectionCriteria": {
              "type": "object"
            },
            "jmeterTestplan": {
              "$ref": "#/$defs/SmartDynamicValueStringDef"
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties" : false
    },
    "KeywordDef" : {
      "type" : "object",
      "oneOf" : [ {
        "$ref" : "#/$defs/JMeterFunctionDef"
      } ]
    }
  },
  "properties" : {
    "version" : {
      "const" : "1.0.0"
    },
    "name": {
      "type": "string"
    },
    "keywords" : {
      "type": "array",
      "items": {
        "$ref": "#/$defs/KeywordDef"
      }
    }
  },
  "required" : ["keywords"],
  "additionalProperties" : false
}