<div id="PlanListCtrl" ng-controller="PlanListCtrl">
	<div class="row">
	</div>
	<st-table collection="'plans'" handle="tableHandle" uid="'planList'" persist-state="true">
		<st-actions>
			<div class="btn-group btn-group-menu">
				<button type="button" ng-disabled="!authService.hasRight('plan-write')" class="btn btn-default" ng-click="pastePlan()" uib-tooltip="Paste plan">
					<span class="glyphicon glyphicon-paste"></span>
				</button>
			</div>
			<div class="btn-group btn-group-menu">
				<button type="button" ng-disabled="!authService.hasRight('plan-write')" class="btn btn-default" ng-click="importPlans()" uib-tooltip="Import plan">
					<span class="glyphicon glyphicon-import"></span>
				</button>
				<button type="button" ng-disabled="!authService.hasRight('plan-write')" class="btn btn-default" ng-click="exportPlans()" uib-tooltip="Export all plans">
					<span class="glyphicon glyphicon-export"></span>
				</button>
			</div>
			<div class="btn-group btn-group-menu">
				<button type="button" ng-disabled="!authService.hasRight('plan-write')" class="btn btn-success" ng-click="addPlan()">New plan</button>
			</div>
		</st-actions>
		<st-columns>
			<st-column name="attributes.name">
				<header>Name</header>
				<second-header><inputdropdown action="search" initial-value="initialValue"></inputdropdown></second-header>
				<cell><a href="#/root/plans/editor/{{row._id.$oid}}">{{row.attributes.name}}</a></cell>
			</st-column>
			<st-column name="root._class">
				<header>Type</header>
				<second-header><inputdropdown action="search" initial-value="initialValue"></inputdropdown></second-header>
				<cell>{{row.root._class}}</cell>
			</st-column>
			<st-column>
				<header>Actions</header>
				<cell>
					<div class="btn-group">
						<button type="button" class="btn btn-default" ng-click="$parent.editPlan(row._id.$oid)" ng-disabled="!authService.hasRight('plan-write')"  uib-tooltip="Edit plan">
            				<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
            			</button>
            			<button type="button" class="btn btn-default" ng-click="$parent.executePlan(row._id.$oid)" ng-disabled="!authService.hasRight('plan-execute')" uib-tooltip="Execute plan">
	            			<span class="glyphicon glyphicon glyphicon glyphicon-play" aria-hidden="true"></span>
            			<button type="button" class="btn btn-default" ng-click="$parent.copyPlan(row._id.$oid)" ng-disabled="!authService.hasRight('plan-write')" uib-tooltip="Copy plan">
            				<span class="glyphicon glyphicon-copy" aria-hidden="true"></span>
            			</button>
            			<button type="button" class="btn btn-default" ng-click="$parent.deletePlan(row._id.$oid)" ng-disabled="!authService.hasRight('plan-write')" uib-tooltip="Delete plan">
            				<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
            			</button>
          			</div>
          		</cell>
			</st-column>
		</st-columns>
	</st-table>
</div>